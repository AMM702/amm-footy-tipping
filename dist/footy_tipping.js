(()=>{function w(e){let l=e.teams.home,t=e.teams.away,d=e.gameNumber,i=e.gameID,o=document.getElementById("tipping-submit-div"),p=document.getElementById("tipping-form"),r=document.createElement("div");r.id=`game-${e.gameID}`,r.classList.add("game-details-div");let n=document.createElement("input");n.type="hidden",n.name=`${i}`,n.value="none",n.id=`hidden_${i}`,r.appendChild(n);let s=document.createElement("div");s.style.display="flex",s.style.justifySelf="start";let a=document.createElement("label");a.className="gameTippingCursor",a.style.paddingLeft="5px",a.style.paddingTop="10px";let c=document.createElement("input");c.type="radio",c.name=`${i}`,c.value="home",c.id=`${l}_${d}`,c.style.marginTop="3px",a.setAttribute("for",`${l}_${d}`),a.textContent=l,s.appendChild(c),s.appendChild(a);let m=document.createElement("span");m.textContent=`Game ${d} @ ${e.ground} (${e.time} ${e.date})`,e.userTip===1?e.result===1?m.textContent+=" \u2705":e.result===2&&(m.textContent+=" \u274C"):e.userTip===2&&(e.result===2?m.textContent+=" \u2705":e.result===1&&(m.textContent+=" \u274C")),m.style.paddingTop="3px",m.style.justifySelf="center",m.style.fontWeight="bold";let y=document.createElement("div");y.style.display="flex",y.style.justifySelf="start",y.style.marginLeft="50px";let f=document.createElement("label");f.className="gameTippingCursor",f.style.paddingLeft="5px",f.style.paddingTop="10px";let u=document.createElement("input");u.type="radio",u.name=`${i}`,u.value="away",u.id=`${t}_${d}`,u.style.marginTop="3px",f.setAttribute("for",`${t}_${d}`),f.textContent=t,y.appendChild(u),y.appendChild(f),r.appendChild(s),r.appendChild(m),r.appendChild(y),o?p.insertBefore(r,o):p.appendChild(r),e.userTip===1?(c.checked=!0,c.previousChecked=!0,n.value=c.value):e.userTip===2&&(u.checked=!0,u.previousChecked=!0,n.value=u.value),e.isTippable||(c.disabled=!0,u.disabled=!0),[c,u].forEach(h=>{h.addEventListener("click",()=>{h.previousChecked?(h.checked=!1,h.previousChecked=!1,n.value="none"):(document.querySelectorAll(`input[name="${i}"]`).forEach(b=>b.previousChecked=!1),h.previousChecked=!0,n.value=h.value)})})}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.createGameFormElements=w;function L(e){let l=document.getElementById("round-results-div"),t=document.createElement("table");t.classList.add("custom-table");let i=t.createTHead().insertRow(),o=document.createElement("th");o.textContent="Username",o.classList.add("custom-cell"),i.appendChild(o);let p=document.createElement("th");p.textContent="Score",p.classList.add("custom-cell"),i.appendChild(p),e.forEach(r=>{let n=t.insertRow(),s=n.insertCell();s.textContent=r.username,s.classList.add("custom-cell");let a=n.insertCell();a.textContent=r.score,a.classList.add("custom-cell")}),l.appendChild(t)}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.populateLeagueTable=L;function v(e){let l=document.getElementById("tippingRoundListOptions"),t=document.getElementById("tippingRoundDisplayText"),d=document.getElementById("tippingRoundList"),i=document.getElementById("tipping-form"),o=document.getElementById("league-table-heading"),p=n=>n.toLowerCase().trim().replace(/[\s\W]+/g,"-");l.innerHTML="";for(let n in e)if(e.hasOwnProperty(n)){let s=e[n],a=document.createElement("a");a.href="#",a.className="w-dropdown-link username_display",a.textContent=s.name,a.id=`${p(s.name)}`,a.addEventListener("click",function(c){c.preventDefault(),C(s,i,t,o),g(s)}),l.appendChild(a)}let r=!1;for(let n in e)if(e.hasOwnProperty(n)){let s=e[n];if(s.isRoundOn){C(s,i,t,o),g(s),r=!0;break}}if(!r){let n=Object.keys(e),s=e[n[0]];C(s,i,t),g(s)}}function C(e,l,t,d){t.textContent=e.name,d.textContent=`League Table (${e.name})`;let i=Array.from(l.children);for(let o=0;o<i.length;o++){let p=i[o];p.id!=="tipping-submit-div"&&p.id!=="tipping-submit-button"&&p.remove()}x(),e.matches.forEach(o=>window.CustomLibrary.createGameFormElements(o))}function x(){let e=document.getElementById("tipping-form"),l=document.getElementById("tipping-submit-div"),t=document.createElement("div");t.classList.add("game-details-div"),t.style.marginTop="0px";let d=document.createElement("span");d.textContent="Home Team",d.classList.add("game-details-text-header"),d.style.justifySelf="start";let i=document.createElement("span");i.textContent="Game Details",i.classList.add("game-details-text-header"),i.style.justifySelf="center";let o=document.createElement("span");o.textContent="Away Team",o.classList.add("game-details-text-header"),o.style.justifySelf="start",o.style.marginLeft="50px",t.appendChild(d),t.appendChild(i),t.appendChild(o),e?e.insertBefore(t,l):e.appendChild(t)}function g(e){let l=document.getElementById("league-table-hidden-score-text"),t=document.getElementById("round-results-div"),d=e.scores;d.length!=0?(l.innerHTML="",t.innerHTML="",window.CustomLibrary.populateLeagueTable(d)):t!==""&&(t.innerHTML="")}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.populateTippingDropdownMenuOptions=v;})();
