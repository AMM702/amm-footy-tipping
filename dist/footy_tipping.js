(()=>{function L(e){let c=e.teams.home,t=e.teams.away,o=e.gameNumber,a=e.gameID,l=document.getElementById("tipping-submit-div"),i=document.getElementById("tipping-form"),d=document.createElement("div");d.id=`game-${e.gameID}`,d.classList.add("game-details-div");let n=document.createElement("input");n.type="hidden",n.name=`${a}`,n.value="none",n.id=`hidden_${a}`,d.appendChild(n);let r=document.createElement("div");r.style.display="flex",r.style.justifySelf="start";let s=document.createElement("label");s.className="gameTippingCursor",s.style.paddingLeft="5px",s.style.paddingTop="10px";let p=document.createElement("input");p.type="radio",p.name=`${a}`,p.value="home",p.id=`${c}_${o}`,p.style.marginTop="3px",s.setAttribute("for",`${c}_${o}`),s.textContent=c,r.appendChild(p),r.appendChild(s);let m=document.createElement("span");m.textContent=`Game ${o} @ ${e.ground} (${e.time} ${e.date})`,e.userTip===1?e.result===1?m.textContent+=" \u2705":e.result===2&&(m.textContent+=" \u274C"):e.userTip===2&&(e.result===2?m.textContent+=" \u2705":e.result===1&&(m.textContent+=" \u274C")),m.style.paddingTop="3px",m.style.justifySelf="center",m.style.fontWeight="bold";let y=document.createElement("div");y.style.display="flex",y.style.justifySelf="start",y.style.marginLeft="50px";let h=document.createElement("label");h.className="gameTippingCursor",h.style.paddingLeft="5px",h.style.paddingTop="10px";let u=document.createElement("input");u.type="radio",u.name=`${a}`,u.value="away",u.id=`${t}_${o}`,u.style.marginTop="3px",h.setAttribute("for",`${t}_${o}`),h.textContent=t,y.appendChild(u),y.appendChild(h),d.appendChild(r),d.appendChild(m),d.appendChild(y),l?i.insertBefore(d,l):i.appendChild(d),e.userTip===1?(p.checked=!0,p.previousChecked=!0,n.value=p.value):e.userTip===2&&(u.checked=!0,u.previousChecked=!0,n.value=u.value),e.isTippable||(p.disabled=!0,u.disabled=!0),[p,u].forEach(f=>{f.addEventListener("click",()=>{f.previousChecked?(f.checked=!1,f.previousChecked=!1,n.value="none"):(document.querySelectorAll(`input[name="${a}"]`).forEach(b=>b.previousChecked=!1),f.previousChecked=!0,n.value=f.value)})})}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.createGameFormElements=L;function w(e){let c=document.getElementById("round-results-div"),t=document.createElement("table");t.classList.add("custom-table");let a=t.createTHead().insertRow(),l=document.createElement("th");l.textContent="Username",l.classList.add("custom-cell"),a.appendChild(l);let i=document.createElement("th");i.textContent="Score",i.classList.add("custom-cell"),a.appendChild(i),e.forEach(d=>{let n=t.insertRow(),r=n.insertCell();r.textContent=d.username,r.classList.add("custom-cell");let s=n.insertCell();s.textContent=d.score,s.classList.add("custom-cell")}),c.appendChild(t)}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.populateLeagueTable=w;function v(e){let c=document.getElementById("tippingRoundListOptions"),t=document.getElementById("tippingRoundDisplayText"),o=document.getElementById("tipping-form"),a=document.getElementById("league-table-heading"),l=n=>n.toLowerCase().trim().replace(/[\s\W]+/g,"-");c.innerHTML="";let i=e.data;i.forEach(n=>{let r=`Round ${n.round}`,s=document.createElement("a");s.href="#",s.className="w-dropdown-link username_display",s.textContent=r,s.id=`${l(r)}`,s.addEventListener("click",function(p){p.preventDefault(),C(n,o,t,a,r),g(n)}),c.appendChild(s)});let d=!1;for(let n=0;n++;i.length-1){let r=i[n];if(r.isRoundOn){let s=`Round ${r.round}`;C(r,o,t,a,s),g(r),d=!0;break}}d||C(i[0],o,t,a,`Round ${i[0].round}`)}function C(e,c,t,o,a){t.textContent=a,o.textContent=`League Table (${a})`;let l=Array.from(c.children);for(let i=0;i<l.length;i++){let d=l[i];d.id!=="tipping-submit-div"&&d.id!=="tipping-submit-button"&&d.remove()}x(),e.matches.forEach(i=>window.CustomLibrary.createGameFormElements(i))}function x(){let e=document.getElementById("tipping-form"),c=document.getElementById("tipping-submit-div"),t=document.createElement("div");t.classList.add("game-details-div"),t.style.marginTop="0px";let o=document.createElement("span");o.textContent="Home Team",o.classList.add("game-details-text-header"),o.style.justifySelf="start";let a=document.createElement("span");a.textContent="Game Details",a.classList.add("game-details-text-header"),a.style.justifySelf="center";let l=document.createElement("span");l.textContent="Away Team",l.classList.add("game-details-text-header"),l.style.justifySelf="start",l.style.marginLeft="50px",t.appendChild(o),t.appendChild(a),t.appendChild(l),e?e.insertBefore(t,c):e.appendChild(t)}function g(e){let c=document.getElementById("league-table-hidden-score-text"),t=document.getElementById("round-results-div"),o=e.scores;o.length!=0?(c.innerHTML="",t.innerHTML="",window.CustomLibrary.populateLeagueTable(o)):t!==""&&(t.innerHTML="")}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.populateTippingDropdownMenuOptions=v;})();
