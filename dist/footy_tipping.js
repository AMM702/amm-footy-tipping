(()=>{function w(e){let c=e.teams.home,t=e.teams.away,n=e.gameNumber,i=e.gameID,r=document.getElementById("tipping-submit-div"),a=document.getElementById("tipping-form"),s=document.createElement("div");s.id=`game-${e.gameID}`,s.classList.add("game-details-div");let o=document.createElement("input");o.type="hidden",o.name=`${i}`,o.value="none",o.id=`hidden_${i}`,s.appendChild(o);let l=document.createElement("div");l.style.display="flex",l.style.justifySelf="start";let d=document.createElement("label");d.className="gameTippingCursor",d.style.paddingLeft="5px",d.style.paddingTop="10px";let p=document.createElement("input");p.type="radio",p.name=`${i}`,p.value="home",p.id=`${c}_${n}`,p.style.marginTop="3px",d.setAttribute("for",`${c}_${n}`),d.textContent=c,l.appendChild(p),l.appendChild(d);let u=document.createElement("span");u.textContent=`Game ${n} @ ${e.ground} (${e.time} ${e.date})`,e.userTip===1?e.result===1?u.textContent+=" \u2705":e.result===2&&(u.textContent+=" \u274C"):e.userTip===2&&(e.result===2?u.textContent+=" \u2705":e.result===1&&(u.textContent+=" \u274C")),u.style.paddingTop="3px",u.style.justifySelf="center",u.style.fontWeight="bold";let y=document.createElement("div");y.style.display="flex",y.style.justifySelf="start",y.style.marginLeft="50px";let f=document.createElement("label");f.className="gameTippingCursor",f.style.paddingLeft="5px",f.style.paddingTop="10px";let m=document.createElement("input");m.type="radio",m.name=`${i}`,m.value="away",m.id=`${t}_${n}`,m.style.marginTop="3px",f.setAttribute("for",`${t}_${n}`),f.textContent=t,y.appendChild(m),y.appendChild(f),s.appendChild(l),s.appendChild(u),s.appendChild(y),r?a.insertBefore(s,r):a.appendChild(s),e.userTip===1?(p.checked=!0,p.previousChecked=!0,o.value=p.value):e.userTip===2&&(m.checked=!0,m.previousChecked=!0,o.value=m.value),e.isTippable||(p.disabled=!0,m.disabled=!0),[p,m].forEach(h=>{h.addEventListener("click",()=>{h.previousChecked?(h.checked=!1,h.previousChecked=!1,o.value="none"):(document.querySelectorAll(`input[name="${i}"]`).forEach(b=>b.previousChecked=!1),h.previousChecked=!0,o.value=h.value)})})}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.createGameFormElements=w;function L(e){let c=document.getElementById("round-results-div"),t=document.createElement("table");t.classList.add("custom-table");let i=t.createTHead().insertRow(),r=document.createElement("th");r.textContent="Username",r.classList.add("custom-cell"),i.appendChild(r);let a=document.createElement("th");a.textContent="Score",a.classList.add("custom-cell"),i.appendChild(a),e.forEach(s=>{let o=t.insertRow(),l=o.insertCell();l.textContent=s.username,l.classList.add("custom-cell");let d=o.insertCell();d.textContent=s.score,d.classList.add("custom-cell")}),c.appendChild(t)}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.populateLeagueTable=L;function v(e){let c=document.getElementById("tippingRoundListOptions"),t=document.getElementById("tippingRoundDisplayText"),n=document.getElementById("tipping-form"),i=document.getElementById("league-table-heading"),r=o=>o.toLowerCase().trim().replace(/[\s\W]+/g,"-");c.innerHTML="";let a=e.data;a.forEach(o=>{let l=`Round ${o.round}`,d=document.createElement("a");d.href="#",d.className="w-dropdown-link username_display",d.textContent=l,d.id=`${r(l)}`,d.addEventListener("click",function(p){p.preventDefault(),C(o,n,t,i,l),g(o)}),c.appendChild(d)});let s=!1;for(let o=0;o<a.length;o++){let l=a[o];if(l.isRoundOn){let d=`Round ${l.round}`;C(l,n,t,i,d),g(l),s=!0;break}}s||(C(a[0],n,t,i,`Round ${a[0].round}`),g(a[0]))}function C(e,c,t,n,i){t.textContent=i,n.textContent=`League Table (${i})`;let r=Array.from(c.children);for(let a=0;a<r.length;a++){let s=r[a];s.id!=="tipping-submit-div"&&s.id!=="tipping-submit-button"&&s.remove()}E(),e.matches.forEach(a=>window.CustomLibrary.createGameFormElements(a))}function E(){let e=document.getElementById("tipping-form"),c=document.getElementById("tipping-submit-div"),t=document.createElement("div");t.classList.add("game-details-div"),t.style.marginTop="0px";let n=document.createElement("span");n.textContent="Home Team",n.classList.add("game-details-text-header"),n.style.justifySelf="start";let i=document.createElement("span");i.textContent="Game Details",i.classList.add("game-details-text-header"),i.style.justifySelf="center";let r=document.createElement("span");r.textContent="Away Team",r.classList.add("game-details-text-header"),r.style.justifySelf="start",r.style.marginLeft="50px",t.appendChild(n),t.appendChild(i),t.appendChild(r),e?e.insertBefore(t,c):e.appendChild(t)}function g(e){let c=document.getElementById("league-table-hidden-score-text"),t=document.getElementById("round-results-div"),n=e.scores;n.length!=0?(c.innerHTML="",t.innerHTML="",window.CustomLibrary.populateLeagueTable(n)):t!==""&&(t.innerHTML="")}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.populateTippingDropdownMenuOptions=v;function x(){let e=document.getElementById("tipping-form-block");e.addEventListener("submit",c=>{c.preventDefault();let t=new t(e),n=Object.fromEntries(t.entries());console.table(n)})}window.CustomLibrary=window.CustomLibrary||{};window.CustomLibrary.interceptTippingForm=x;})();
